<?xml version="1.0" encoding="utf-8" ?>
<odoo>

  <record id="view_sale_advance_payment_tree" model="ir.ui.view">
      <field name="name">account.payment.tree (in sale_advance_payment)</field>
      <field name="model">account.payment</field>
      <field name="arch" type="xml">
          <tree editable="top" delete="0" create="0">
              <field name="date" attrs="{'readonly': [('state', '!=', 'draft')]}" />
              <field name="name" readonly="1" />
              <field name="ref" attrs="{'readonly': [('state', '!=', 'draft')]}" />
              <field name="journal_id" attrs="{'readonly': [('state', '!=', 'draft')]}" domain="[('type', 'in', ['bank', 'cash'])]"/>
              <field
                    name="amount"
                    sum="Amount"
                    attrs="{'readonly': [('state', '!=', 'draft')]}"
                />
              <field name="currency_id" invisible="1"/>
              <field
                    name="state"
                    widget="badge"
                    decoration-info="state == 'draft'"
                    decoration-success="state == 'posted'"
                    class="text-center"
                />
              <button
                    name="action_post"
                    string="Post"
                    type="object"
                    icon="fa-check"
                    attrs="{'invisible': [('state', '!=', 'draft')]}"
                />
              <button
                    name="unlink"
                    icon="fa-trash"
                    type="object"
                    attrs="{'invisible': [('state', 'not in', ['draft', 'cancel'])]}"
                    class="oe_edit_only"
                />
              <field name="suitable_journal_ids" invisible="1" />
              <field name="available_payment_method_ids" invisible="1" />
          </tree>
      </field>
  </record>

</odoo>
